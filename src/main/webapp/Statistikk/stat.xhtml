<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this template, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">
    <ui:composition template="/template/loginOkTemplate.xhtml" >
        <ui:define name="title">

        </ui:define>
        <ui:define name="body">
            <p:panel id="panel" header="Contact information">  
                <h:form>
                    <p:lineChart value="#{charts.linearModel}" legendPosition="e" zoom="true"  
                                 title="Linear Chart" minY="0" maxY="10" style="width:500px;height:300px" widgetVar="chart"> 
                        <p:ajax event="itemSelect" listener="#{charts.itemSelect(event)}" update="growl" />
                    </p:lineChart>  

                    <p:commandButton type="button" value="Export" icon="ui-icon-extlink" onclick="exportChart()"/>  

                    <p:dialog widgetVar="dlg" showEffect="fade" modal="true" header="Chart as an Image">  
                        <p:outputPanel id="output" layout="block" style="width:500px;height:300px"/>  
                    </p:dialog>  
                    <script>
                        function exportChart() {  
                   
                            $('#output').empty().append(chart.exportAsImage());  

                    
                            dlg.show();  
                        }  
                    </script>
                </h:form>
            </p:panel>
        </ui:define>
    </ui:composition>
</html>

